{"version":3,"file":"mdb-angular-ui-kit-collapse.js","sources":["../../../projects/mdb-angular-ui-kit/collapse/collapse.directive.ts","../../../projects/mdb-angular-ui-kit/collapse/collapse.module.ts","../../../projects/mdb-angular-ui-kit/collapse/mdb-angular-ui-kit-collapse.ts"],"names":[],"mappings":"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","sourcesContent":["import {\n  Directive,\n  ElementRef,\n  EventEmitter,\n  HostBinding,\n  Input,\n  Output,\n  Renderer2,\n} from '@angular/core';\nimport { fromEvent } from 'rxjs';\nimport { take } from 'rxjs/operators';\n\nconst TRANSITION_TIME = 350;\n\n@Directive({\n  // eslint-disable-next-line @angular-eslint/directive-selector\n  selector: '[mdbCollapse]',\n  exportAs: 'mdbCollapse',\n})\n// eslint-disable-next-line @angular-eslint/component-class-suffix\nexport class MdbCollapseDirective {\n  constructor(private _elementRef: ElementRef, private _renderer: Renderer2) {}\n\n  @HostBinding('class.collapse') collapseClass = true;\n\n  @Output() collapseShow: EventEmitter<MdbCollapseDirective> = new EventEmitter();\n  @Output() collapseShown: EventEmitter<MdbCollapseDirective> = new EventEmitter();\n  @Output() collapseHide: EventEmitter<MdbCollapseDirective> = new EventEmitter();\n  @Output() collapseHidden: EventEmitter<MdbCollapseDirective> = new EventEmitter();\n\n  @Input()\n  set collapsed(collapsed: boolean) {\n    if (collapsed !== this._collapsed) {\n      collapsed ? this.hide() : this.show();\n      this._collapsed = collapsed;\n    }\n  }\n  get collapsed(): boolean {\n    return this._collapsed;\n  }\n  private _collapsed = true;\n\n  get host(): HTMLElement {\n    return this._elementRef.nativeElement;\n  }\n\n  private _isTransitioning = false;\n\n  show(): void {\n    if (this._isTransitioning || !this.collapsed) {\n      return;\n    }\n\n    this.collapseShow.emit(this);\n\n    this._renderer.removeClass(this.host, 'collapse');\n    this._renderer.addClass(this.host, 'collapsing');\n\n    this._renderer.setStyle(this.host, 'height', '0px');\n\n    this._isTransitioning = true;\n\n    const scrollHeight = this.host.scrollHeight;\n\n    fromEvent(this.host, 'transitionend')\n      .pipe(take(1))\n      .subscribe(() => {\n        this._isTransitioning = false;\n        this.collapsed = false;\n        this._renderer.removeClass(this.host, 'collapsing');\n        this._renderer.addClass(this.host, 'collapse');\n        this._renderer.addClass(this.host, 'show');\n\n        this._renderer.removeStyle(this.host, 'height');\n\n        this.collapseShown.emit(this);\n      });\n\n    this._emulateTransitionEnd(this.host, TRANSITION_TIME);\n\n    this._renderer.setStyle(this.host, 'height', `${scrollHeight}px`);\n  }\n\n  hide(): void {\n    if (this._isTransitioning || this.collapsed) {\n      return;\n    }\n\n    this.collapseHide.emit(this);\n\n    const hostHeight = this.host.getBoundingClientRect().height;\n\n    this._renderer.setStyle(this.host, 'height', `${hostHeight}px`);\n\n    this._reflow(this.host);\n\n    this._renderer.addClass(this.host, 'collapsing');\n    this._renderer.removeClass(this.host, 'collapse');\n    this._renderer.removeClass(this.host, 'show');\n\n    this._isTransitioning = true;\n\n    fromEvent(this.host, 'transitionend')\n      .pipe(take(1))\n      .subscribe(() => {\n        this._renderer.removeClass(this.host, 'collapsing');\n        this._renderer.addClass(this.host, 'collapse');\n        this._isTransitioning = false;\n        this.collapsed = true;\n\n        this.collapseHidden.emit(this);\n      });\n\n    this._renderer.removeStyle(this.host, 'height');\n    this._emulateTransitionEnd(this.host, TRANSITION_TIME);\n  }\n\n  toggle(): void {\n    if (this._isTransitioning) {\n      return;\n    }\n\n    this.collapsed = !this.collapsed;\n    this.collapsed ? this.hide() : this.show();\n  }\n\n  private _reflow(element: HTMLElement): number {\n    return element.offsetHeight;\n  }\n\n  private _emulateTransitionEnd(element: HTMLElement, duration: number): void {\n    let eventEmitted = false;\n    const durationPadding = 5;\n    const emulatedDuration = duration + durationPadding;\n\n    fromEvent(element, 'transitionend')\n      .pipe(take(1))\n      .subscribe(() => {\n        eventEmitted = true;\n      });\n\n    setTimeout(() => {\n      if (!eventEmitted) {\n        element.dispatchEvent(new Event('transitionend'));\n      }\n    }, emulatedDuration);\n  }\n}\n","import { MdbCollapseDirective } from './collapse.directive';\nimport { NgModule } from '@angular/core';\n\n@NgModule({\n  declarations: [MdbCollapseDirective],\n  exports: [MdbCollapseDirective],\n})\nexport class MdbCollapseModule {}\n","/**\n * Generated bundle index. Do not edit.\n */\n\nexport * from './index';\n"]}